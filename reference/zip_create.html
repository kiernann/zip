<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compress files into ZIP archives — zip_create • zippr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Compress files into ZIP archives — zip_create" />
<meta property="og:description" content="Compared to zip::zip() and utils::zip(), zip_create() takes the path of
files to include in the archive as the first argument. Append new compressed
files to an existing archive with zip_append()." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">zippr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kiernann/zippr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compress files into ZIP archives</h1>
    <small class="dont-index">Source: <a href='https://github.com/kiernann/zippr/blob/master/R/create.R'><code>R/create.R</code></a></small>
    <div class="hidden name"><code>zip_create.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compared to <code>zip::zip()</code> and <code><a href='https://rdrr.io/r/utils/zip.html'>utils::zip()</a></code>, <code>zip_create()</code> takes the path of
files to include in the archive as the first argument. Append new compressed
files to an existing archive with <code>zip_append()</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>zip_create</span><span class='op'>(</span>
  <span class='va'>path</span>,
  <span class='va'>archive</span>,
  recurse <span class='op'>=</span> <span class='cn'>TRUE</span>,
  level <span class='op'>=</span> <span class='fl'>9</span>,
  junk_paths <span class='op'>=</span> <span class='cn'>FALSE</span>,
  include_dirs <span class='op'>=</span> <span class='cn'>TRUE</span>,
  root <span class='op'>=</span> <span class='st'>"."</span>
<span class='op'>)</span>

<span class='fu'>zip_append</span><span class='op'>(</span>
  <span class='va'>path</span>,
  <span class='va'>archive</span>,
  recurse <span class='op'>=</span> <span class='cn'>TRUE</span>,
  level <span class='op'>=</span> <span class='fl'>9</span>,
  junk_paths <span class='op'>=</span> <span class='cn'>FALSE</span>,
  include_dirs <span class='op'>=</span> <span class='cn'>TRUE</span>,
  root <span class='op'>=</span> <span class='st'>"."</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>path</th>
      <td><p>Character vector of files to add to the archive.</p></td>
    </tr>
    <tr>
      <th>archive</th>
      <td><p>The ZIP file path to create. If the file exists,
<code>zip_create()</code> overwrites it, but <code>zip_append()</code> appends to it.</p></td>
    </tr>
    <tr>
      <th>recurse</th>
      <td><p>Whether to add the contents of directories recursively.</p></td>
    </tr>
    <tr>
      <th>level</th>
      <td><p>Integer between 1 and 9. Higher compression takes longer.</p></td>
    </tr>
    <tr>
      <th>junk_paths</th>
      <td><p>Whether to remove full file path. See "Relative paths"
below for more. An alternative to the <code>mode</code> argument of <code>zip::zip()</code>.</p></td>
    </tr>
    <tr>
      <th>include_dirs</th>
      <td><p>Whether to explicitly include directories in the archive.</p></td>
    </tr>
    <tr>
      <th>root</th>
      <td><p>Directory to temporarily change to before creating archive.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The name of the created ZIP archive, invisibly.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Relative paths</h3>


<p><code>zip_create()</code> and <code>zip_append()</code> both use the <code>junk_paths</code> argument in lieu
of the <code>mode</code> argument from <code>zip::zip()</code>.</p>
<p>When <code>junk_paths</code> is set to <code>FALSE</code> (the default), the directory structure of
included files is preserved; the working directory will temporarily be
changed to the <code>root</code> argument before creating the archive.</p>
<p>(Absolute paths are also kept. Note that this might result non-portable
archives: some zip tools do not handle ZIP archives that contain absolute
file names, or file names that start with <code>../</code> or <code>./</code>. zippr warns you if
this should happen.)</p>
<p>When <code>junk_paths</code> is set to <code>TRUE</code>, the selected files and directories will
be at the root of the archive. This mode is handy if you want to select a
subset of files and directories, possibly from different paths and put all of
the in the archive, at the top level.</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Permissions:</h3>


<p><code>zip_create()</code> (and <code>zip_append()</code>) add the permissions of the archived files
and directories to the ZIP archive, on Unix systems. Most zip and unzip
implementations support these, so they will be recovered after extracting the
archive. Note, however that the owner and group (uid and gid) are currently
omitted, even on Unix.</p>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>.old_wd</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>setwd</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://fs.r-lib.org'>fs</a></span><span class='op'>)</span>
<span class='fu'><a href='http://fs.r-lib.org/reference/create.html'>dir_create</a></span><span class='op'>(</span><span class='fu'><a href='http://fs.r-lib.org/reference/path.html'>path</a></span><span class='op'>(</span><span class='st'>"mydir"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"first file"</span>, file <span class='op'>=</span> <span class='fu'><a href='http://fs.r-lib.org/reference/path.html'>path</a></span><span class='op'>(</span><span class='st'>"mydir"</span>, <span class='st'>"file1"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"second file"</span>, file <span class='op'>=</span> <span class='fu'><a href='http://fs.r-lib.org/reference/path.html'>path</a></span><span class='op'>(</span><span class='st'>"mydir"</span>, <span class='st'>"file2"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>z</span> <span class='op'>&lt;-</span> <span class='fu'><a href='http://fs.r-lib.org/reference/file_temp.html'>file_temp</a></span><span class='op'>(</span>ext <span class='op'>=</span> <span class='st'>"zip"</span><span class='op'>)</span>
<span class='fu'>zip_create</span><span class='op'>(</span><span class='st'>"mydir"</span>, <span class='va'>z</span><span class='op'>)</span>

<span class='co'>## List contents</span>
<span class='fu'><a href='zip_info.html'>zip_info</a></span><span class='op'>(</span><span class='va'>z</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 3 x 5</span><span>
#&gt;   filename    compressed_size uncompressed_size timestamp           permissions
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fs::path&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;fs::bytes&gt;</span><span>       </span><span style='color: #555555;font-style: italic;'>&lt;fs::bytes&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span>              </span><span style='color: #555555;font-style: italic;'>&lt;fs::perms&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> </span><span style='color: #0000BB;font-weight: bold;'>mydir</span><span>                     0                 0 2021-02-08 </span><span style='color: #555555;'>23:28:26</span><span> rwxr-xr-x  
#&gt; </span><span style='color: #555555;'>2</span><span> mydir/file1              15                10 2021-02-08 </span><span style='color: #555555;'>23:28:26</span><span> rw-rw-rw-  
#&gt; </span><span style='color: #555555;'>3</span><span> mydir/file2              16                11 2021-02-08 </span><span style='color: #555555;'>23:28:26</span><span> rw-rw-rw-  </div><div class='input'>
<span class='co'>## Add another file</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"third file"</span>, file <span class='op'>=</span> <span class='fu'><a href='http://fs.r-lib.org/reference/path.html'>path</a></span><span class='op'>(</span><span class='st'>"mydir"</span>, <span class='st'>"file3"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>zip_append</span><span class='op'>(</span><span class='fu'><a href='http://fs.r-lib.org/reference/path.html'>path</a></span><span class='op'>(</span><span class='st'>"mydir"</span>, <span class='st'>"file3"</span><span class='op'>)</span>, <span class='va'>z</span><span class='op'>)</span>
<span class='fu'><a href='zip_info.html'>zip_info</a></span><span class='op'>(</span><span class='va'>z</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 4 x 5</span><span>
#&gt;   filename    compressed_size uncompressed_size timestamp           permissions
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fs::path&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;fs::bytes&gt;</span><span>       </span><span style='color: #555555;font-style: italic;'>&lt;fs::bytes&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span>              </span><span style='color: #555555;font-style: italic;'>&lt;fs::perms&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> </span><span style='color: #0000BB;font-weight: bold;'>mydir</span><span>                     0                 0 2021-02-08 </span><span style='color: #555555;'>23:28:26</span><span> rw-rw-rw-  
#&gt; </span><span style='color: #555555;'>2</span><span> mydir/file1              15                10 2021-02-08 </span><span style='color: #555555;'>23:28:26</span><span> rw-rw-rw-  
#&gt; </span><span style='color: #555555;'>3</span><span> mydir/file2              16                11 2021-02-08 </span><span style='color: #555555;'>23:28:26</span><span> rw-rw-rw-  
#&gt; </span><span style='color: #555555;'>4</span><span> mydir/file3              15                10 2021-02-08 </span><span style='color: #555555;'>23:28:26</span><span> rw-------  </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>setwd</a></span><span class='op'>(</span><span class='va'>.old_wd</span><span class='op'>)</span>

</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kiernan Nicholls, Gábor Csárdi, Kuba Podgórski, Rich Geldreich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


